# Emoji ğŸ˜„ Image Generator 

è¿™æ˜¯ä¸€ä¸ªç”¨flow matchingè®­ç»ƒçš„emojiå›¾ç‰‡ç”Ÿæˆå™¨

##  æ•°æ®é›†


ä¸€ä¸ªä¸“ä¸ºç”Ÿæˆä»»åŠ¡æ•´ç†çš„å°å‹é«˜è´¨é‡ emoji è„¸éƒ¨æ•°æ®é›†ã€‚
- Emoji faceåªæ”¶å½•äº†äººè„¸å½¢å¼çš„ emoji ï¼ˆå¯¹åº”emojiåºå·1~94, å¯å‚è€ƒ [emoji_number.sjon](./emoji_number.json)ï¼‰
- å·²å°†é€æ˜èƒŒæ™¯çš„å›¾ç‰‡è½¬æˆç™½è‰²èƒŒæ™¯,æ–¹ä¾¿æ¨¡å‹æ‹Ÿåˆ
- æ¯ä¸ªemojiè¡¨æƒ…åŒ…å«å¤šä¸ªå¹³å°çš„ç‰ˆæœ¬ (Appleã€Google ...) 


æ•°æ®é›†å·²ä¸Šä¼ åˆ°[kaggle - emoji_face](https://www.kaggle.com/datasets/chzarles/emoji-face)



### æ–‡ä»¶ç»“æ„

æ•°æ®é›†é‡ŒåŒ…å«ä¸€äº›å›¾ç‰‡å’Œä¸€ä¸ªè‡ªåˆ¶çš„æ ‡ç­¾æ–‡ä»¶`labels.json`ã€‚

å›¾ç‰‡æŒ‰ç…§emojiåºå·åˆ†ç±»å­˜æ”¾ï¼Œä¸åŒemojiå¯¹åº”çš„åºå·

å…·ä½“å½¢å¼ç»„ç»‡å¦‚ä¸‹ï¼Œè¯¦è§ [EMOJI_FACE](./EMOJI_FACE/)
```
EMOJI_FACE/
â”œâ”€â”€ 1
â”‚   â”œâ”€â”€ Apple_1.png
â”‚   â”œâ”€â”€ Facebook_1.png
...
â”‚   â””â”€â”€ Windows_1.png
â”œâ”€â”€ 2 
â”‚   â”œâ”€â”€ Apple_1.png
â”‚   â”œâ”€â”€ Facebook_1.png
...
â”‚   â””â”€â”€ Windows_1.png
....
â”œâ”€â”€ 94
â”‚   â”œâ”€â”€ Apple_94.png
â”‚   â”œâ”€â”€ Facebook_94.png
...
â”‚   â””â”€â”€ Windows_94.png
â””â”€â”€ labels.json

```

[labels.json](./EMOJI_FACE/labels.json) æ˜¯ä¸€ä¸ªæ ‡ç­¾æ–‡ä»¶ï¼ŒæŠŠæ¯ä¸ª emojiï¼ˆç”¨æ•°å­— ID å’Œå­—ç¬¦ï¼‰æŒ‰è„¸éƒ¨ç‰¹å¾åˆ†ç»„ã€‚
- é¡¶å±‚å­—æ®µæ˜¯è‹¥å¹²ç±»åˆ«ï¼ˆå¦‚ skin_colorã€eye_shapeã€mouth_shape ç­‰ï¼‰ï¼›
- æ¯ä¸ªç±»åˆ«ä¸‹é¢æ˜¯è‹¥å¹²å­ç±»ï¼ˆå¦‚ smiling_curveã€frown_curve ç­‰ï¼‰ã€‚
- æ¯ä¸ªå­ç±»çš„å€¼æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œå…ƒç´ å½¢å¦‚ [id, "emoji"]ï¼Œè¡¨ç¤ºç¼–å·ä¸º id çš„è¡¨æƒ…å±äºè¯¥å­ç±»ã€‚

åœ¨è¿›è¡Œæ— æ¡ä»¶ç”Ÿæˆè®­ç»ƒæ—¶ï¼Œæ¨¡å‹æ€»æ˜¯ä¹ æƒ¯äºç”ŸæˆæŸä¸€ç±»ç‰¹å®šçš„ Emojiï¼Œè¿™å°±å¿½ç•¥äº†æ•°æ®é›†ä¸­å¤§é‡ä¸°å¯Œçš„ç‰¹å¾ä¿¡æ¯ã€‚
ç”±äº Emoji ä¸­çš„ç»„åˆç‰¹å¾ï¼ˆå¦‚çœ¼å‹ã€å˜´å‹ã€è‚¤è‰²ï¼‰éå¸¸ä¸°å¯Œï¼Œå› æ­¤å¯ä»¥å¯¹å›¾åƒè¿›è¡Œä¸€äº›ç»†ç²’åº¦çš„**ç‰¹å¾æ‰“æ ‡**ï¼Œåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ç”¨è¿™äº›æ ‡ç­¾è½¬åŒ–ä¸º**æ¡ä»¶å‘é‡Embedding** è¾“å…¥æ¨¡å‹ã€‚è¿™æ ·ä¸ä»…èƒ½å¼ºåˆ¶æ¨¡å‹å­¦ä¹ æ‰€æœ‰æ•°æ®çš„åˆ†å¸ƒï¼Œé˜²æ­¢ä¿¡æ¯ä¸¢å¤±ï¼Œè¿˜èƒ½åœ¨ç”Ÿæˆæ—¶å®ç°å¯¹ç‰¹å¾çš„è‡ªç”±ç»„åˆã€‚


# è®­ç»ƒæ•ˆæœ

#### é’ˆå¯¹æ¯ä¸ªå•ç‹¬ç‰¹å¾æ¥è¿›è¡Œé‡‡æ ·
![overview](./images/single_feature.png)

#### ä½¿ç”¨æ¯ä¸ªå›¾ç‰‡idå¯¹åº”çš„ç‰¹å¾ç»„åˆé‡‡æ · (1 ~ 94)
å…·ä½“æ¥è¯´å°±æ˜¯ä½¿ç”¨è®­ç»ƒé›†å›¾ç‰‡çš„ç»„åˆç‰¹å¾æ¥é‡‡æ ·
![overview](./images/combine_features.png)



# å®ç°

å‚è€ƒä¸‹é¢ä¸¤ä¸ªæ–‡ä»¶
- [common_utils.py](./common_utils.py)
- [flow_matching_conditional.ipynb](./flow-matching-images.ipynb)
    - è¿™æ˜¯ä½¿ç”¨flow matchingæ–¹æ³•çš„å®ç°


#  ç»„åˆç‰¹å¾æµ‹è¯•
ä¸ºäº†æµ‹è¯•è¿™ä¸ªç”Ÿæˆå™¨æ˜¯å¦èƒ½å¤Ÿå°†ä¸åŒç»†ç²’åº¦çš„è„¸éƒ¨ç‰¹å¾ï¼ˆä¾‹å¦‚çœ¼å‹ã€å˜´å‹ã€è‚¤è‰²ç­‰ï¼‰æ­£ç¡®ç»„åˆå¹¶ç”Ÿæˆä¸€è‡´ä¸”è‡ªç„¶çš„è¡¨æƒ…å›¾åƒï¼Œé¡¹ç›®æä¾›äº†ä¸€ä¸ªstreamlitåº”ç”¨æ¥æµ‹è¯•ä¸åŒçš„ç‰¹å¾ç»„åˆä½œä¸ºæ¡ä»¶å‘é‡æ—¶çš„é‡‡æ ·æ•ˆæœã€‚

```bash
streamlit run streamlit_app.py 
```

![image](./images/combine_custom_features.png)
> è¿™æ˜¯ glasses_sunglasses +smile_open +red_hot_angry çš„ç»„åˆ


å®éªŒå‘ç°ä½¿ç”¨è®­ç»ƒé›†å·²æœ‰çš„ç‰¹å¾ç»„åˆèƒ½å¾—åˆ°è¾ƒé«˜è´¨é‡çš„ç”Ÿæˆç»“æœï¼›ä½†å¦‚æœè¾“å…¥ä»»æ„æœªåœ¨è®­ç»ƒé›†ä¸­å‡ºç°çš„ç‰¹å¾ç»„åˆï¼Œæ¨¡å‹é€šå¸¸åªèƒ½è¿˜åŸå‡ºå›¾åƒçš„è½®å»“å’Œè‹¥å¹²å±€éƒ¨ç‰¹å¾ï¼Œéš¾ä»¥ç”Ÿæˆè¯­ä¹‰ä¸€è‡´ä¸”ç»†èŠ‚ä¸°å¯Œçš„å›¾åƒã€‚


# Future work: åˆ†æå¯¹æ¯”ddpmç‰ˆæœ¬
ä»£ç å®ç°: [ddpm_conditional.ipynb](./ddpm_conditional.ipynb)

![overview](./images/ddpm_combine_features.png)

# æƒé‡è·å–
æ¨¡å‹æœ€ä¼˜çš„æƒé‡æ–‡ä»¶å’Œè®­ç»ƒè¿‡ç¨‹ä¸­çš„logä»¥åŠæƒé‡æ›´æ–°æ—¶çš„é‡‡æ ·è®°å½•éƒ½æœ‰ä¿å­˜ã€‚ 
[ä¸‹è½½](https://pan.baidu.com/s/1t9rjTq2F1wkUhw43aEhRgA?pwd=s7db) åç›´æ¥è§£å‹åˆ°é¡¹ç›®æ ¹ç›®å½•å³å¯è¿è¡Œ
```
project_root
â”œâ”€â”€ ddpm_conditional_checkpoints
â”œâ”€â”€ fm_conditional_checkpoints

```